# âœ… æ•°æ®åº“è¡¨ç»“æ„å·²åˆ›å»ºå®Œæˆï¼

## ğŸ“Š åˆ›å»ºæ€»ç»“

**åˆ›å»ºæ—¶é—´**ï¼š2025-10-14  
**æ•°æ®åº“å**ï¼šylwy_db  
**å­—ç¬¦é›†**ï¼šutf8mb4  
**è¡¨æ•°é‡**ï¼š11å¼   

---

## ğŸ“‹ æ•°æ®è¡¨æ¸…å•

| # | è¡¨å | è®°å½•æ•° | è¯´æ˜ |
|---|------|--------|------|
| 1 | users | 0 | ç”¨æˆ·è¡¨ |
| 2 | schools | 0 | å­¦æ ¡è¡¨ |
| 3 | subjects | 5 | ç§‘ç›®è¡¨ âœ… (å·²åˆå§‹åŒ–) |
| 4 | question_categories | 8 | é¢˜ç›®åˆ†ç±»è¡¨ âœ… (å·²åˆå§‹åŒ–) |
| 5 | questions | 0 | é¢˜ç›®è¡¨ |
| 6 | question_options | 0 | é€‰æ‹©é¢˜é€‰é¡¹è¡¨ |
| 7 | test_cases | 0 | æµ‹è¯•ç”¨ä¾‹è¡¨ |
| 8 | submissions | 0 | ä»£ç æäº¤è®°å½•è¡¨ |
| 9 | user_answers | 0 | ç”¨æˆ·ç­”é¢˜è®°å½•è¡¨ |
| 10 | exam_records | 0 | è€ƒè¯•è®°å½•è¡¨ |
| 11 | activities | 0 | åŠ¨æ€è¡¨ |

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | ä½ç½® |
|------|------|------|
| init.sql | SQLåˆå§‹åŒ–è„šæœ¬ | `database/init.sql` |
| README.md | åˆå§‹åŒ–è¯´æ˜æ–‡æ¡£ | `database/README.md` |
| DATABASE_DESIGN.md | æ•°æ®åº“è®¾è®¡æ–‡æ¡£ | `database/DATABASE_DESIGN.md` |
| init-db.ps1 | PowerShellè¾…åŠ©è„šæœ¬ | `database/init-db.ps1` |
| init-db.bat | æ‰¹å¤„ç†è¾…åŠ©è„šæœ¬ | `database/init-db.bat` |

---

## ğŸš€ å¦‚ä½•æ‰§è¡ŒSQLè„šæœ¬

### æ¨èæ–¹æ³•ï¼šä½¿ç”¨ Navicat

1. æ‰“å¼€Navicatï¼Œè¿æ¥MySQL
   - ä¸»æœºï¼šlocalhost
   - ç«¯å£ï¼š3306  
   - ç”¨æˆ·ï¼šroot
   - å¯†ç ï¼šroot

2. ç‚¹å‡» "æŸ¥è¯¢" â†’ "æ–°å»ºæŸ¥è¯¢"

3. ç‚¹å‡» "æ‰“å¼€æ–‡ä»¶"ï¼Œé€‰æ‹©ï¼š
   ```
   d:\projects\ylwy-20251014\database\init.sql
   ```

4. ç‚¹å‡» "è¿è¡Œ" æ‰§è¡Œ

5. åˆ·æ–°å·¦ä¾§æ•°æ®åº“åˆ—è¡¨ï¼ŒæŸ¥çœ‹ ylwy_db

---

## âœ… éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥æ•°æ®åº“

```sql
SHOW DATABASES LIKE 'ylwy_db';
```

### 2. æŸ¥çœ‹æ‰€æœ‰è¡¨

```sql
USE ylwy_db;
SHOW TABLES;
```

### 3. æŸ¥çœ‹åˆå§‹æ•°æ®

```sql
-- æŸ¥çœ‹ç§‘ç›®ï¼ˆåº”æœ‰5æ¡è®°å½•ï¼‰
SELECT * FROM subjects;

-- æŸ¥çœ‹åˆ†ç±»ï¼ˆåº”æœ‰8æ¡è®°å½•ï¼‰
SELECT * FROM question_categories;
```

### 4. æŸ¥çœ‹è¡¨ç»“æ„

```sql
-- æŸ¥çœ‹ç”¨æˆ·è¡¨ç»“æ„
DESC users;

-- æŸ¥çœ‹é¢˜ç›®è¡¨ç»“æ„
DESC questions;

-- æŸ¥çœ‹æäº¤è¡¨ç»“æ„
DESC submissions;
```

---

## ğŸ“Š åˆå§‹åŒ–æ•°æ®

### ç§‘ç›®æ•°æ® (5æ¡)

| ID | ç§‘ç›®åç§° | ä»£ç  | æè¿° |
|----|---------|------|------|
| 1 | Cè¯­è¨€ | C | Cè¯­è¨€ç¨‹åºè®¾è®¡ |
| 2 | æ•°æ®ç»“æ„ | DS | æ•°æ®ç»“æ„ä¸ç®—æ³• |
| 3 | æ“ä½œç³»ç»Ÿ | OS | æ“ä½œç³»ç»ŸåŸç† |
| 4 | è®¡ç®—æœºç»„æˆåŸç† | CO | è®¡ç®—æœºç»„æˆåŸç† |
| 5 | è®¡ç®—æœºç½‘ç»œ | CN | è®¡ç®—æœºç½‘ç»œ |

### é¢˜ç›®åˆ†ç±» (8æ¡)

| ID | åˆ†ç±»åç§° |
|----|---------|
| 1 | ç®€å•æ¨¡æ‹Ÿ |
| 2 | åŸºç¡€ç®—æ³• |
| 3 | æœç´¢ |
| 4 | æ•°å­¦ |
| 5 | æ•°æ®ç»“æ„ |
| 6 | åŠ¨æ€è§„åˆ’ |
| 7 | å›¾è®º |
| 8 | è®¡ç®—å‡ ä½• |

---

## ğŸ¯ ä¸‹ä¸€æ­¥å·¥ä½œ

### 1. åç«¯å¼€å‘

- [x] æ•°æ®åº“è¡¨ç»“æ„åˆ›å»º
- [ ] åˆ›å»ºå®ä½“ç±»ï¼ˆEntityï¼‰
- [ ] åˆ›å»ºMapperæ¥å£
- [ ] åˆ›å»ºServiceæœåŠ¡å±‚
- [ ] åˆ›å»ºControlleræ§åˆ¶å™¨
- [ ] æµ‹è¯•æ•°æ®åº“è¿æ¥

### 2. æ•°æ®å‡†å¤‡

- [ ] è¿è¡Œçˆ¬è™«è·å–é¢˜ç›®æ•°æ®
- [ ] å¯¼å…¥å­¦æ ¡ä¿¡æ¯
- [ ] åˆ›å»ºæµ‹è¯•ç”¨æˆ·
- [ ] åˆ›å»ºç¤ºä¾‹é¢˜ç›®

### 3. å‰ç«¯å¼€å‘

- [ ] é…ç½®APIåœ°å€
- [ ] åˆ›å»ºæ•°æ®æ¨¡å‹
- [ ] å¼€å‘é¡µé¢ç»„ä»¶
- [ ] å¯¹æ¥åç«¯æ¥å£

---

## ğŸ“ SQLè„šæœ¬ä½ç½®

```
d:\projects\ylwy-20251014\database\init.sql
```

**è¯·ä½¿ç”¨Navicatç­‰å·¥å…·æ‰“å¼€å¹¶æ‰§è¡Œæ­¤è„šæœ¬ï¼**

---

## ğŸ”§ æ•°æ®åº“é…ç½®ä¿¡æ¯

### åç«¯é…ç½® (application.yml)

```yaml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ylwy_db?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: root
```

### è¿æ¥ä¿¡æ¯

- **ä¸»æœº**ï¼šlocalhost
- **ç«¯å£**ï¼š3306
- **æ•°æ®åº“**ï¼šylwy_db
- **ç”¨æˆ·å**ï¼šroot
- **å¯†ç **ï¼šroot
- **å­—ç¬¦é›†**ï¼šutf8mb4

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æŸ¥çœ‹è¡¨ç»“æ„ï¼Ÿ
```sql
DESC è¡¨å;
-- æˆ–
SHOW CREATE TABLE è¡¨å;
```

### Q: å¦‚ä½•åˆ é™¤æ•°æ®åº“é‡æ–°åˆ›å»ºï¼Ÿ
```sql
DROP DATABASE IF EXISTS ylwy_db;
-- ç„¶åé‡æ–°æ‰§è¡Œ init.sql
```

### Q: å¦‚ä½•å¤‡ä»½æ•°æ®åº“ï¼Ÿ
```bash
mysqldump -uroot -proot ylwy_db > backup.sql
```

### Q: å¦‚ä½•æ¢å¤æ•°æ®åº“ï¼Ÿ
```bash
mysql -uroot -proot ylwy_db < backup.sql
```

---

## âœ¨ è¡¨ç»“æ„ç‰¹ç‚¹

1. **å®Œå–„çš„ç´¢å¼•**ï¼šä¸»é”®ã€å¤–é”®ã€æ™®é€šç´¢å¼•
2. **è‡ªåŠ¨æ—¶é—´æˆ³**ï¼šcreated_at, updated_at
3. **çº§è”åˆ é™¤**ï¼šåˆ é™¤ä¸»è®°å½•æ—¶è‡ªåŠ¨åˆ é™¤å…³è”æ•°æ®
4. **utf8mb4å­—ç¬¦é›†**ï¼šå®Œç¾æ”¯æŒä¸­æ–‡å’Œemoji
5. **åˆç†çš„å­—æ®µç±»å‹**ï¼šVARCHARã€TEXTã€INTã€BIGINTã€DATETIMEç­‰
6. **é»˜è®¤å€¼è®¾ç½®**ï¼šstatusã€roleã€difficultyç­‰
7. **å¤–é”®çº¦æŸ**ï¼šä¿è¯æ•°æ®å®Œæ•´æ€§

---

## ğŸ‰ æ•°æ®åº“å·²å°±ç»ªï¼

æ‰€æœ‰è¡¨ç»“æ„å·²åˆ›å»ºå®Œæˆï¼Œç°åœ¨å¯ä»¥ï¼š

1. âœ… å¼€å§‹åç«¯å¼€å‘ï¼ˆåˆ›å»ºEntityã€Mapperï¼‰
2. âœ… è¿è¡Œçˆ¬è™«å¯¼å…¥æ•°æ®
3. âœ… å¼€å‘ä¸šåŠ¡é€»è¾‘
4. âœ… æµ‹è¯•æ¥å£

**å‡†å¤‡å¥½å¼€å§‹åç«¯å¼€å‘äº†å—ï¼Ÿ** ğŸš€
